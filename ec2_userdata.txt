#!/bin/bash
apt update -y
apt upgrade -y
apt install python3-pip unzip less -y
pip3 install boto3
curl -s "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip -q awscliv2.zip
./aws/install
rm -r awscliv2.zip
wget -qO- https://get.docker.com | sh
apt update -y
systemctl start docker
systemctl enable docker
docker run hello-world
usermod -aG docker ssm-user
aws s3 cp s3://dev-flask-lab/PDFExtractor/ /home/ubuntu/PDFExtractor/ --recursive
docker build -t manishdocker1810/pdfextractor:v1.0 /home/ubuntu/PDFExtractor/
docker container run -d --name pdfextractor -p 5000:5000 --restart on-failure manishdocker1810/pdfextractor:v1.0
